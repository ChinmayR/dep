require 'formula'

class WonkaGo < Formula
  homepage 'https://engdocs.uberinternal.com/wonka-go'
  url 'gitolite@code.uber.internal:engsec/wonka-go.git', :using => :git
  head 'gitolite@code.uber.internal:engsec/wonka-go.git', :using => :git

  version "{{ .Version }}"

  bottle do
    root_url "https://s3.amazonaws.com/uber-devtools/wonka-go"
    cellar :any_skip_relocation
    {{ range .Bottles }}
    sha256 "{{ .SHASum }}" => :{{ .OSRelease }}{{ end }}
  end

  depends_on "go" => :build

  def install
    ENV.deparallelize
    system "make", "wonkacli/wonkacli"
    bin.install "wonkacli/wonkacli"
    man.install "wonkacli/wonkacli.1"

  end
end
